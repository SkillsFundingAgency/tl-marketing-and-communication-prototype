<dl class="govuk-summary-list">
    {% set 2020Array = [] %}
    {% set 2021Array = [] %}
    {% for value in tLevelsStudentData |  sort(reverse=(true if data['sortOrder'] == 'z-to-a' else false), attribute="learnerName") %}
        {% if value['learnerStartYear'] == '2020 to 2021' %}
            {% set 2020Array = (2020Array.push(value), 2020Array) %}
        {% else %}
            {% set 2021Array = (2021Array.push(value), 2021Array) %}
        {% endif %}
    {% endfor %}
    {% set 2020SubsequentPageLearners = 2020Array.slice(Page*10, Page*10+11) %}
    {% set 2021SubsequentPageLearners = 2021Array.slice(Page*10, Page*10+11) %}
    {% set PageNum = data['page'] %}

    {% if PageNum != 1 and data['learnerStartYear'] == '2020 to 2021' %}
    {% for value in 2020SubsequentPageLearners %}
    <div class="govuk-summary-list__row
                {{ 'govuk-visually-hidden' if loop.index > 10 }}
                {{ 'industry-placement' if value.learnerIndustryPlacement == 'Not completed' }}
                {{ 'english' if value.learnerEnglish == 'Not yet received' }}
                {{ 'maths' if value.learnerMaths == 'Not yet received' }}
                {{ 'incomplete' if value.learnerIndustryPlacement == 'Not completed' or value.learnerEnglish == 'Not yet received' or value.learnerMaths == 'Not yet received' }}
                {{ value.learnerTLevelTitle  | lower  | replace(' ', '-') |replace('&#44;', '') }}"
    >
        <div class="govuk-grid-row govuk-padding-1">
            <div class="govuk-grid-column-two-thirds">
                <dt class="govuk-summary-list__key govuk-grid-column-full">
                    <h3 class="app-application-card__trainee-name govuk-heading-m govuk-!-margin-bottom-0">
                        <a href="update-t-level-record?uln={{ value.KEY_uln }}"
                           class="govuk-link govuk-link--no-visited-state">
                            {{ value.learnerName }}
                        </a>
                    </h3>
                </dt>
                <dd class="govuk-summary-list__value govuk-grid-column-full">
                    <p class="govuk-body-m">{{ value.KEY_uln }}</p>
                    <p class="govuk-body-s">
                        <span class="govuk-visually-hidden">Course: </span>
                        {{ value.learnerTLevelTitle | safe}}
                    </p>
                    <p class="govuk-body-s">
                        Start year:
                        <span class="app-nowrap">{{ value.learnerStartYear }}</span>
                    </p>
                </dd>
            </div>
            <div class="govuk-grid-column-one-third">
                <dd class="govuk-summary-list__actions">
                    {% if value.learnerMaths == "Not yet received" or value.learnerEnglish == "Not yet received" or value.learnerIndustryPlacement == "Not completed" %}
                    <strong class="govuk-tag govuk-tag--red govuk-!-margin-bottom-1">Incomplete</strong>
                    {% endif %}
                    {% if value.KEY_uln == '1122334455' or value.KEY_uln == '5647382910' or value.KEY_uln == '8642135790' %}
                    {% elif value.KEY_uln != '1122334455' or value.KEY_uln != '5647382910' or value.KEY_uln == '8642135790' %}
                    <ul class="govuk-body-s govuk-list">
                        {% if value.learnerIndustryPlacement != "Completed" %}
                        <li>
                            <a class="" href="change-ip-result">Add industry
                                placement
                                details</a>
                        </li>
                        {% endif %}
                        {% if value.KEY_uln == '1169334253' %}
                        {% elif value.KEY_uln != '1169334253' %}
                        {% if value.learnerMaths == "Not yet received" %}
                        <li>
                            <a class="" href="add-maths-status">Add maths level
                                details</a>
                        </li>
                        {% endif %}
                        {% if value.learnerEnglish == "Not yet received" %}
                        <li>
                            <a class="" href="add-english-status">Add English
                                level
                                details</a>
                        </li>
                        {% endif %}
                        {% endif %}
                    </ul>
                    {% endif %}
                </dd>
            </div>
        </div>
    </div>
    {% endfor %}
    {% elif data['learnerStartYear'] == '2020 to 2021' %}
    {% for value in 2020Array %}
    <div class="govuk-summary-list__row
                {{ 'govuk-visually-hidden' if loop.index > 10 }}
                {{ 'industry-placement' if value.learnerIndustryPlacement == 'Not completed' }}
                {{ 'english' if value.learnerEnglish == 'Not yet received' }}
                {{ 'maths' if value.learnerMaths == 'Not yet received' }}
                {{ 'incomplete' if value.learnerIndustryPlacement == 'Not completed' or value.learnerEnglish == 'Not yet received' or value.learnerMaths == 'Not yet received' }}
                {{ value.learnerTLevelTitle  | lower  | replace(' ', '-') |replace('&#44;', '') }}"
    >
        <div class="govuk-grid-row govuk-padding-1">
            <div class="govuk-grid-column-two-thirds">
                <dt class="govuk-summary-list__key govuk-grid-column-full">
                    <h3 class="app-application-card__trainee-name govuk-heading-m govuk-!-margin-bottom-0">
                        <a href="update-t-level-record?uln={{ value.KEY_uln }}"
                           class="govuk-link govuk-link--no-visited-state">
                            {{ value.learnerName }}
                        </a>
                    </h3>
                </dt>
                <dd class="govuk-summary-list__value govuk-grid-column-full">
                    <p class="govuk-body-m">{{ value.KEY_uln }}</p>
                    <p class="govuk-body-s">
                        <span class="govuk-visually-hidden">Course: </span>
                        {{ value.learnerTLevelTitle | safe}}
                    </p>
                    <p class="govuk-body-s">
                        Start year:
                        <span class="app-nowrap">{{ value.learnerStartYear }}</span>
                    </p>
                </dd>
            </div>
            <div class="govuk-grid-column-one-third">
                <dd class="govuk-summary-list__actions">
                    {% if value.learnerMaths == "Not yet received" or value.learnerEnglish == "Not yet received" or value.learnerIndustryPlacement == "Not completed" %}
                    <strong class="govuk-tag govuk-tag--red govuk-!-margin-bottom-1">Incomplete</strong>
                    {% endif %}
                    {% if value.KEY_uln == '1122334455' or value.KEY_uln == '5647382910' or value.KEY_uln == '8642135790' %}
                    {% elif value.KEY_uln != '1122334455' or value.KEY_uln != '5647382910' or value.KEY_uln == '8642135790' %}
                    <ul class="govuk-body-s govuk-list">
                        {% if value.learnerIndustryPlacement != "Completed" %}
                        <li>
                            <a class="" href="change-ip-result">Add industry
                                placement
                                details</a>
                        </li>
                        {% endif %}
                        {% if value.KEY_uln == '1169334253' %}
                        {% elif value.KEY_uln != '1169334253' %}
                        {% if value.learnerMaths == "Not yet received" %}
                        <li>
                            <a class="" href="add-maths-status">Add maths level
                                details</a>
                        </li>
                        {% endif %}
                        {% if value.learnerEnglish == "Not yet received" %}
                        <li>
                            <a class="" href="add-english-status">Add English
                                level
                                details</a>
                        </li>
                        {% endif %}
                        {% endif %}
                    </ul>
                    {% endif %}
                </dd>
            </div>
        </div>
    </div>
    {% endfor %}
    {% elif PageNum != 1 and data['learnerStartYear'] == '2021 to 2022' %} %}
    {% for value in 2021SubsequentPageLearners %}
    <div class="govuk-summary-list__row
                {{ 'govuk-visually-hidden' if loop.index > 10 }}
                {{ 'industry-placement' if value.learnerIndustryPlacement == 'Not completed' }}
                {{ 'english' if value.learnerEnglish == 'Not yet received' }}
                {{ 'maths' if value.learnerMaths == 'Not yet received' }}
                {{ value.learnerTLevelTitle  | lower  | replace(' ', '-') |replace('&#44;', '') }}
                {{ 'incomplete' if value.learnerIndustryPlacement == 'Not completed' or value.learnerEnglish == 'Not yet received' or value.learnerMaths == 'Not yet received' }}"
    >
        <div class="govuk-grid-row govuk-padding-1">
            <div class="govuk-grid-column-two-thirds">
                <dt class="govuk-summary-list__key govuk-grid-column-full">
                    <h3 class="app-application-card__trainee-name govuk-heading-m govuk-!-margin-bottom-0">
                        <a href="update-t-level-record?uln={{ value.KEY_uln }}"
                           class="govuk-link govuk-link--no-visited-state">
                            {{ value.learnerName }}
                        </a>
                    </h3>
                </dt>
                <dd class="govuk-summary-list__value govuk-grid-column-full">
                    <p class="govuk-body-m">{{ value.KEY_uln }}</p>
                    <p class="govuk-body-s">
                        <span class="govuk-visually-hidden">Course: </span>
                        {{ value.learnerTLevelTitle | safe}}
                    </p>
                    <p class="govuk-body-s">
                        Start year:
                        <span class="app-nowrap">{{ value.learnerStartYear }}</span>
                    </p>
                </dd>
            </div>
            <div class="govuk-grid-column-one-third">
                <dd class="govuk-summary-list__actions">
                    {% if value.learnerMaths == "Not yet received" or value.learnerEnglish == "Not yet received" or value.learnerIndustryPlacement == "Not completed" %}
                    <strong class="govuk-tag govuk-tag--red govuk-!-margin-bottom-1">Incomplete</strong>
                    {% endif %}
                    {% if value.KEY_uln == '1122334455' or value.KEY_uln == '5647382910' or value.KEY_uln == '8642135790' %}
                    {% elif value.KEY_uln != '1122334455' or value.KEY_uln != '5647382910' or value.KEY_uln == '8642135790' %}
                    <ul class="govuk-body-s govuk-list">
                        {% if value.learnerIndustryPlacement != "Completed" %}
                        <li>
                            <a class="" href="change-ip-result">Add industry
                                placement
                                details</a>
                        </li>
                        {% endif %}
                        {% if value.KEY_uln == '1169334253' %}
                        {% elif value.KEY_uln != '1169334253' %}
                        {% if value.learnerMaths == "Not yet received" %}
                        <li>
                            <a class="" href="add-maths-status">Add maths level
                                details</a>
                        </li>
                        {% endif %}
                        {% if value.learnerEnglish == "Not yet received" %}
                        <li>
                            <a class="" href="add-english-status">Add English
                                level
                                details</a>
                        </li>
                        {% endif %}
                        {% endif %}
                    </ul>
                    {% endif %}
                </dd>
            </div>
        </div>
    </div>
    {% endfor %}
    {% else %}
    {% for value in 2021Array %}
    <div class="govuk-summary-list__row
                {{ 'govuk-visually-hidden' if loop.index > 10 }}
                {{ 'industry-placement' if value.learnerIndustryPlacement == 'Not completed' }}
                {{ 'english' if value.learnerEnglish == 'Not yet received' }}
                {{ 'maths' if value.learnerMaths == 'Not yet received' }}
                {{ value.learnerTLevelTitle  | lower  | replace(' ', '-') |replace('&#44;', '') }}
                {{ 'incomplete' if value.learnerIndustryPlacement == 'Not completed' or value.learnerEnglish == 'Not yet received' or value.learnerMaths == 'Not yet received' }}"
    >
        <div class="govuk-grid-row govuk-padding-1">
            <div class="govuk-grid-column-two-thirds">
                <dt class="govuk-summary-list__key govuk-grid-column-full">
                    <h3 class="app-application-card__trainee-name govuk-heading-m govuk-!-margin-bottom-0">
                        <a href="update-t-level-record?uln={{ value.KEY_uln }}"
                           class="govuk-link govuk-link--no-visited-state">
                            {{ value.learnerName }}
                        </a>
                    </h3>
                </dt>
                <dd class="govuk-summary-list__value govuk-grid-column-full">
                    <p class="govuk-body-m">{{ value.KEY_uln }}</p>
                    <p class="govuk-body-s">
                        <span class="govuk-visually-hidden">Course: </span>
                        {{ value.learnerTLevelTitle | safe}}
                    </p>
                    <p class="govuk-body-s">
                        Start year:
                        <span class="app-nowrap">{{ value.learnerStartYear }}</span>
                    </p>
                </dd>
            </div>
            <div class="govuk-grid-column-one-third">
                <dd class="govuk-summary-list__actions">
                    {% if value.learnerMaths == "Not yet received" or value.learnerEnglish == "Not yet received" or value.learnerIndustryPlacement == "Not completed" %}
                    <strong class="govuk-tag govuk-tag--red govuk-!-margin-bottom-1">Incomplete</strong>
                    {% endif %}
                    {% if value.KEY_uln == '1122334455' or value.KEY_uln == '5647382910' or value.KEY_uln == '8642135790' %}
                    {% elif value.KEY_uln != '1122334455' or value.KEY_uln != '5647382910' or value.KEY_uln == '8642135790' %}
                    <ul class="govuk-body-s govuk-list">
                        {% if value.learnerIndustryPlacement != "Completed" %}
                        <li>
                            <a class="" href="change-ip-result">Add industry
                                placement
                                details</a>
                        </li>
                        {% endif %}
                        {% if value.KEY_uln == '1169334253' %}
                        {% elif value.KEY_uln != '1169334253' %}
                        {% if value.learnerMaths == "Not yet received" %}
                        <li>
                            <a class="" href="add-maths-status">Add maths level
                                details</a>
                        </li>
                        {% endif %}
                        {% if value.learnerEnglish == "Not yet received" %}
                        <li>
                            <a class="" href="add-english-status">Add English
                                level
                                details</a>
                        </li>
                        {% endif %}
                        {% endif %}
                    </ul>
                    {% endif %}
                </dd>
            </div>
        </div>
    </div>
    {% endfor %}
    {% endif %}
</dl>