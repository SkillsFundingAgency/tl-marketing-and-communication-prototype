{% extends "layout.html" %}

{% block pageTitle %}
  Upload results file - Manage T Level results - GOV.UK
{% endblock %}

{% block beforeContent %}
<div class="govuk-breadcrumbs">
  <ol class="govuk-breadcrumbs__list">
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="/V2-0/AO/tlevels-dashboard.html">Home</a>
    </li>
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="student-results">Results</a>
    </li>
  </ol>
</div>
{% endblock %}

{% block content %}


<!-- MAIN HEADING -->
<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <div class="govuk-form-group">
            <h1 class="govuk-heading-l">Upload multiple results
            </h1>
        </div>
    </div>
</div>

<!-- MAIN ROW -->
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <p class="govuk-body">You can add or change results for more than one learner by uploading CSV files.</p>
   

  <div class="govuk-form-group">
    <label class="govuk-label" for="file-upload-1">
      Upload a file
    </label>
    <input aria-required="true" class="govuk-file-upload" id="file-upload-1" name="file-upload-1" type="file" accept=".csv" multiple
    onchange="showType(this)">
  </div>
  <a class="govuk-button" id="upload" role="button" href="">Upload</a>

  <h2 class="govuk-heading-m">Before you start</h2>

  <p class="govuk-body">If you export data from another system, you must check the data is in the right format. You can download a template with data formats and rules guidance to help you.</p>

      <div class="govuk-grid-row">

          <div class="govuk-grid-column-one-quarter">
              <a href="#"><img src="/public/images/document-image.png" alt="Document-image"></a>
          </div>
          <div class="govuk-grid-column-three-quarters">
              <h1 class="govuk-heading-s">

                  <a href="#">Download registrations data format and rules (XLSX 274KB)</a>
                  <p>Version 1.3, published 2 March 2022</p>
              </h1>
          </div>
      </div>

      <ul class="govuk-list--bullet">
        <li class="govuk-body">The ULN must have an active registration status and assessment entry. You cannot upload a result for a withdrawn learner.</li>

        <li class="govuk-body">If a result is already recorded and a blank one is submitted in the file, the existing result will be deleted.</li>

        <li class="govuk-body">If the data is not correctly formatted, nothing will be uploaded. You will be able to download an error report which tells you what's wrong.</li>
      </ul>
  </div>

<script>
  function showType(fileInput) {
    var files = fileInput.files;
    for (var i = 0; i < files.length; i++) {
      var name = files[i].name;
      var type = files[i].type;
      console.log(type)
      console.log(name)
      if (type === 'text/csv' && name === 'correct-data.csv') {
        document.getElementById('upload').setAttribute("href", "upload-results-file-successful")
        console.log('type successful')
      } else {
        document.getElementById('upload').setAttribute("href", "upload-results-file-error")
        console.log('type error')
      }
    }
  }
</script>

{% endblock %}
