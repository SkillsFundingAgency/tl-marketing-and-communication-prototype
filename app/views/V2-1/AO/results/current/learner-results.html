{% extends "layout.html" %}

{% block pageTitle %}
{% if data['uln'] === '9876543210' or data['uln'] === '1987654321' or data['uln'] === '1122334455' or data['uln'] === '5647382910' or data['uln'] === '1162334257' or data['uln'] === '1121334428' %}
  Learner's results - Manage T Level results - GOV.UK
{% elseif data['uln'] === '1231231231' %}
Learner withdrawn – Manage T Level results – GOV.UK 
{% elseif data['uln'] === '8642135790' %}
No registered assessments – Manage T Level results – GOV.UK
{% else %}
ULN not found - Manage T Level results - GOV.UK
{% endif %}  
{% endblock %}

{% block beforeContent %}
{% if data['uln'] === '9876543210' or data['uln'] === '1987654321' or data['uln'] === '1122334455' or data['uln'] === '5647382910' or data['uln'] === '1162334257' or data['uln'] === '1169334253' or data['uln'] === '1169334253' or data['uln'] === '1121334428' %}
<div class="govuk-breadcrumbs">
  <ol class="govuk-breadcrumbs__list">
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="/V2-0/AO/tlevels-dashboard.html">Home</a>
    </li>
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="student-results">Results</a>
    </li>
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="search-learner">Search for a learner</a>
    </li>
  </ol>
</div>
{% else %}
<a class="govuk-back-link" onclick= "goBack()">Back</a>

{% endif %} 
{% endblock %}

{% block content %}
{# Core change   #}
{% if data['uln'] === '9876543210' %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">

              <h1 class="govuk-heading-l">Learner results</h1>

              <h2 class="govuk-heading-m govuk-!-margin-top-7">Learner's details</h2>

              <dl class="govuk-summary-list govuk-summary-list--no-border">
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Name
                  </dt>
                  <dd class="govuk-summary-list__value">
                    {{ data['tLevelsStudentData'][data.uln]['learnerName'] }}
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    ULN
                  </dt>
                  <dd class="govuk-summary-list__value">
                    {{ data['uln'] }}
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Date of birth
                  </dt>
                  <dd class="govuk-summary-list__value">
                    {{ data['tLevelsStudentData'][data.uln]['learnerDOB'] }}
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Provider<br>(UKPRN)
                  </dt>
                  <dd class="govuk-summary-list__value">
                    {{ data['tLevelsStudentData'][data.uln]['learnerProvider'] }}<br>{{ data['tLevelsStudentData'][data.uln]['UKPRN'] }}
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    T Level title
                  </dt>
                  <dd class="govuk-summary-list__value">
                    {{ data['tLevelsStudentData'][data.uln]['learnerTLevelTitle'] }}
                  </dd>
                </div>
              </dl>

              <table class="govuk-table">
  <caption class="govuk-table__caption govuk-table__caption--m">Core (code): {{ data['tLevelsStudentData'][data.uln]['learnerTLevelCore'] }} {{ data['tLevelsStudentData'][data.uln]['learnerTLevelCoreCode'] }}</h2>

  <tbody class="govuk-table__body">
    <tr class="govuk-table__row">
      <th scope="row" class="govuk-table__header">Exam period</th>
      <th scope="row" class="govuk-table__header">Grade</th>
      <th scope="row" class="govuk-table__header">Last updated</th>
      <th scope="row" class="govuk-table__header">Updated by</th>
      <th scope="row" class="govuk-table__header">Status</th>
      </td>
    </tr>
    <tr class="govuk-table__row">
      <td class="govuk-table__cell">
      {{ data['tLevelsStudentData'][data.uln]['learnerCoreAssessmentEntry'] }}
      </td>
      <td class="govuk-table__cell">
                    {% if data['addedResult'] === 'yes' %}
                    {{data['newResult']}}
                    {% elif data['changedResult'] === 'yes' %}
                    {{data['updateResult']}}
                    {% else %}
                    Not received
                    {% endif %}
      </td>
            <td class="govuk-table__cell">

                          {% if data['addedResult'] === 'yes' or data['changedResult'] === 'yes' %}
                    4 June 2021
                    {% endif %}
      </td>
            <td class="govuk-table__cell">
                          {% if data['addedResult'] === 'yes' or data['changedResult'] === 'yes' %}
                    Pat Carmicheal
                    {% endif %}
      </td>
      <td class="govuk-table__cell">
                    {% if data['addedResult'] === 'yes' or (data['changedResult'] === 'yes' and data['updateResult'] != "Not received") %}
                    <a class="govuk-link" href="change-core-result">
                      Change <span class="govuk-visually-hidden">core result</span>
                    </a>
                    {% else %}
                    <a class="govuk-link" href="add-core-result">
                      Add result
                    </a>
                    {% endif %}
      </td>
    </tr>
  </tbody>
</table>

  <div class="govuk-button-group">

              <a class="govuk-button" href="search-learner">Search again</a>
    </div>

    </div>
</div>
{# grade is for core and specialism #}
{% elseif data['uln'] === '5647382910' %}
{% include "includes/V2-1/results/learner-results-no-grade.html" %}
{# appeals for core and specialism  #}
{% elseif data['uln'] === '1987654321' %}
{% include "includes/V2-1/results/learner-results-appeal.html" %}
{# final for core and specialism  #}
{% elseif data['uln'] === '1122334455' %}
{% include "includes/V2-1/results/learner-results-final.html" %}
{# final and being appealed for core and specialism  #}
{% elseif data['uln'] === '1121334428' %}
{% include "includes/V2-1/results/learner-results-different-states.html" %}
{# withdrawn is just for Core   #}
{% elseif data['uln'] === '1231231231' %}
{% include "includes/V2-1/results/learner-results-withdrawn.html" %}
{# Final Core with no Specialism   #}
{% elseif data['uln'] === '1162334257' %}
{% include "includes/V2-1/results/learner-results-final-no-specialism.html" %}
{# Final Core with paired Specialism   #}
{% elseif data['uln'] === '1169334253' %}
{% include "includes/V2-1/results/learner-results-final-paired-specialism.html" %}
{% else %}
{% include "includes/V2-1/results/results-no-learner-found.html" %}
{% endif %}  
{% endblock %}
